(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217357"],{c66d:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container text-center"},[e("header",{staticClass:"jumbotron"}),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header bg-info text-end"},[t._m(0),e("h3",[e("strong",{staticClass:"text-uppercase"},[t._v(t._s(t.currentUser.username))])])]),e("div",{staticClass:"card-body text-start"},[e("h5",{staticClass:"card-title"},[t._v("Credenciales:")]),e("p",{staticClass:"card-text"},[e("strong",[t._v("Token:")]),t._v(" "+t._s(t.currentUser.accessToken.substring(0,20))+" ... "+t._s(t.currentUser.accessToken.substr(t.currentUser.accessToken.length-20))+" ")]),e("p",{staticClass:"card-text"},[e("strong",[t._v("Id:")]),t._v(" "+t._s(t.currentUser.id)+" ")]),e("p",{staticClass:"card-text"},[e("strong",[t._v("Email:")]),t._v(" "+t._s(t.currentUser.email)+" ")])]),e("strong",[t._v("Roles asignados:")]),e("ul",{staticClass:"list-group list-group-flush"},t._l(t.currentUser.roles,(function(s,a){return e("li",{key:a,staticClass:"list-group-item"},[t._v(t._s(s))])})),0)]),e("div",{staticClass:"form-group"},[e("label",[t._v("Si es la primera vez que se registra presione: completar registro")]),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control",attrs:{type:"hidden",disabled:""},domProps:{value:t.id},on:{input:function(s){s.target.composing||(t.id=s.target.value)}}}),e("button",{staticClass:"btn btn-warning",attrs:{type:"submit"},on:{click:t.updateAlumno}},[t._v("completar registro")])]),e("a",{staticClass:"btn btn-danger",attrs:{href:""},on:{click:function(s){return s.preventDefault(),t.logOut.apply(null,arguments)}}},[e("font-awesome-icon",{attrs:{icon:"sign-out-alt"}}),t._v("LogOut ")],1)])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"text-start"},[e("i",{staticClass:"far fa-address-card fa-3x"})])}],i=e("bc3a"),o=e.n(i),n=e("2b0e"),c={name:"Profile",data:function(){return{id:this.$store.state.auth.user.id,email:this.$store.state.auth.user.email,bandera:!1}},computed:{currentUser:function(){return this.$store.state.auth.user}},methods:{logOut:function(){this.$store.dispatch("auth/logout"),this.$router.push("/login")},updateAlumno:function(){1==this.bandera?o.a.put("https://proyecto-tedw.herokuapp.com/alumnos/updateid/"+this.email,{id_users:this.id}).then((function(t){console.log(t),n["a"].$toast.open({message:"ha completado su registro",type:"success",duration:5e3,dismissible:!0})})).catch((function(t){console.error(t),n["a"].$toast.open({message:"ha ocurrido algo, revise su registro",type:"error",duration:5e3,dismissible:!0})})):o.a.put("https://proyecto-tedw.herokuapp.com/personal/updateid/"+this.email,{id_users:this.id}).then((function(t){console.log(t),n["a"].$toast.open({message:"ha completado su registro",type:"success",duration:5e3,dismissible:!0})})).catch((function(t){console.error(t),n["a"].$toast.open({message:"ha ocurrido algo, revise su registro",type:"error",duration:5e3,dismissible:!0})}))}},mounted:function(){this.currentUser||this.$router.push("/login");var t=/[0-9]{8}@itcelaya.edu.mx/i;console.log(t.test(this.email)),this.bandera=t.test(this.email),console.log(this.bandera)}},u=c,l=e("2877"),d=Object(l["a"])(u,a,r,!1,null,null,null);s["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d217357.fc191538.js.map