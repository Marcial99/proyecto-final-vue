(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cb89a1e"],{"159b":function(e,r,a){var t=a("da84"),s=a("fdbc"),o=a("17c2"),n=a("9112");for(var i in s){var u=t[i],l=u&&u.prototype;if(l&&l.forEach!==o)try{n(l,"forEach",o)}catch(m){l.forEach=o}}},"17c2":function(e,r,a){"use strict";var t=a("b727").forEach,s=a("a640"),o=s("forEach");e.exports=o?[].forEach:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}},"49ac":function(e,r,a){"use strict";a("666d")},5689:function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card card-container"},[a("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),a("form",{attrs:{name:"form"},on:{submit:function(r){return r.preventDefault(),e.handleRegister.apply(null,arguments)}}},[e.successful?e._e():a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[e._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:e.user.username},on:{input:function(r){r.target.composing||e.$set(e.user,"username",r.target.value)}}}),e.submitted&&e.errors.has("username")?a("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("username")))]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"},{name:"validate",rawName:"v-validate",value:"required|email|max:50",expression:"'required|email|max:50'"}],staticClass:"form-control",attrs:{type:"email",name:"email",pattern:"[0-9]+@itcelaya.edu.mx"},domProps:{value:e.user.email},on:{input:function(r){r.target.composing||e.$set(e.user,"email",r.target.value)}}}),e.submitted&&e.errors.has("email")?a("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("email")))]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required|min:6|max:40",expression:"'required|min:6|max:40'"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.user.password},on:{input:function(r){r.target.composing||e.$set(e.user,"password",r.target.value)}}}),e.submitted&&e.errors.has("password")?a("div",{staticClass:"alert-danger"},[e._v(e._s(e.errors.first("password")))]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v("No control.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.alumno.no_control,expression:"alumno.no_control"}],staticClass:"form-control",attrs:{type:"text",name:"no_control",maxlength:"8",required:""},domProps:{value:e.alumno.no_control},on:{input:function(r){r.target.composing||e.$set(e.alumno,"no_control",r.target.value)}}}),a("label",[e._v("Nombre.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.alumno.nombre,expression:"alumno.nombre"}],staticClass:"form-control",attrs:{type:"text",name:"nombre",required:""},domProps:{value:e.alumno.nombre},on:{input:function(r){r.target.composing||e.$set(e.alumno,"nombre",r.target.value)}}}),a("label",{attrs:{for:"password"}},[e._v("Apellido paterno.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.alumno.a_paterno,expression:"alumno.a_paterno"}],staticClass:"form-control",attrs:{type:"text",name:"a_paterno",required:""},domProps:{value:e.alumno.a_paterno},on:{input:function(r){r.target.composing||e.$set(e.alumno,"a_paterno",r.target.value)}}}),a("label",{attrs:{for:"password"}},[e._v("Apellido materno.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.alumno.a_materno,expression:"alumno.a_materno"}],staticClass:"form-control",attrs:{type:"text",name:"a_materno",required:""},domProps:{value:e.alumno.a_materno},on:{input:function(r){r.target.composing||e.$set(e.alumno,"a_materno",r.target.value)}}}),a("label",{attrs:{for:"password"}},[e._v("Semestre.")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.alumno.semestre,expression:"alumno.semestre"}],staticClass:"form-control",attrs:{type:"number",name:"semestre",min:"1",max:"12",step:"1",required:""},domProps:{value:e.alumno.semestre},on:{input:function(r){r.target.composing||e.$set(e.alumno,"semestre",r.target.value)}}}),a("label",{attrs:{for:"password"}},[e._v("Carrera.")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.carrera.id,expression:"carrera.id"}],staticClass:"form-select",attrs:{required:""},on:{change:function(r){var a=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){var r="_value"in e?e._value:e.value;return r}));e.$set(e.carrera,"id",r.target.multiple?a:a[0])}}},e._l(e.carreras,(function(r){return a("option",{domProps:{value:r}},[e._v(e._s(e.carrera.nombre_carrera[r-1]))])})),0),a("p",[e._v(e._s(e.carrera.id))])]),e._m(0)])]),e.message?a("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(e._s(e.message))]):e._e()])])},s=[function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary btn-block"},[e._v("Sign Up")])])}],o=(a("d3b7"),a("159b"),a("25f0"),a("8654")),n=a("bc3a"),i=a.n(n),u={name:"FormularioAlumno",data:function(){return{user:new o["a"]("","",""),submitted:!1,successful:!1,message:"",alumno:{no_control:"",nombre:"",a_paterno:"",a_materno:"",semestre:"",id_carrera:"",id_users:"",email:""},carreras:[],names:[],carrera:{id:"",nombre_carrera:""}}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){var e=this;this.loggedIn&&this.$router.push("/profile"),fetch("https://proyecto-tedw.herokuapp.com/carreras").then((function(e){return e.json()})).then((function(r){r.forEach((function(r){e.carreras.push(r.id_carrera),e.names.push(r.carrera)})),e.carrera.id=e.carreras,e.carrera.nombre_carrera=e.names}))},methods:{submitForm:function(){var e=this;console.log("mensaje enviado"),i.a.post("https://proyecto-tedw.herokuapp.com/alumnos",{no_control:this.alumno.no_control,nombre:this.alumno.nombre,a_paterno:this.alumno.a_paterno,a_materno:this.alumno.a_materno,semestre:this.alumno.semestre,id_carrera:this.carrera.id,email:this.user.email}).then((function(r){console.log(r),e.$toast.open({message:"usuario registrado",type:"success",duration:5e3,dismissible:!0})})).catch((function(e){console.error(e)}))},handleRegister:function(){var e=this;this.message="",this.submitted=!0,this.$validator.validate().then((function(r){r&&e.$store.dispatch("auth/register",e.user).then((function(r){e.message=r.message,e.successful=!0,e.submitForm()}),(function(r){e.message=r.response&&r.response.data||r.message||r.toString(),e.successful=!1}))}))}}},l=u,m=(a("49ac"),a("2877")),c=Object(m["a"])(l,t,s,!1,null,"2f6f1e65",null);r["default"]=c.exports},"65f0":function(e,r,a){var t=a("861d"),s=a("e8b5"),o=a("b622"),n=o("species");e.exports=function(e,r){var a;return s(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?t(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===r?0:r)}},"666d":function(e,r,a){},a640:function(e,r,a){"use strict";var t=a("d039");e.exports=function(e,r){var a=[][e];return!!a&&t((function(){a.call(null,r||function(){throw 1},1)}))}},b727:function(e,r,a){var t=a("0366"),s=a("44ad"),o=a("7b0b"),n=a("50c4"),i=a("65f0"),u=[].push,l=function(e){var r=1==e,a=2==e,l=3==e,m=4==e,c=6==e,d=7==e,p=5==e||c;return function(v,f,g,_){for(var h,b,w=o(v),x=s(w),y=t(f,g,3),C=n(x.length),$=0,N=_||i,q=r?N(v,C):a||d?N(v,0):void 0;C>$;$++)if((p||$ in x)&&(h=x[$],b=y(h,$,w),e))if(r)q[$]=b;else if(b)switch(e){case 3:return!0;case 5:return h;case 6:return $;case 2:u.call(q,h)}else switch(e){case 4:return!1;case 7:u.call(q,h)}return c?-1:l||m?m:q}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},e8b5:function(e,r,a){var t=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==t(e)}}}]);
//# sourceMappingURL=chunk-3cb89a1e.105d905b.js.map